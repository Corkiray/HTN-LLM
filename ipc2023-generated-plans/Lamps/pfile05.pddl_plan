==>
1 flip l0 l0 N Y
2 flip l0 l1 N Y
3 flip l0 l1 Y N
4 flip l0 l2 Y N
5 flip l0 l2 N Y
6 flip l1 l1 N Y
7 flip l1 l2 Y N
8 flip l1 l2 N Y
9 flip l1 l1 Y N
10 flip l2 l1 Y N
11 flip l2 l1 N Y
12 flip l0 l1 N Y
<==
root 0
0 play -> do_play 1 2
1 turn -> do_turn 2 3 4 5 6 7 8 9 10 11 12 13
    2 propagate_up l0 l1 Y N -> propagate_up_do l0 l1 l1 Y N 3 4
    3 propagate_up l1 l1 Y N -> propagate_up_end_field l1 l1 Y
    5 propagate_down l0 l1 Y N -> propagate_down_end_different l0 l1 l2 Y N
    6 propagate_left l0 l1 Y N -> propagate_left_do l0 l1 l0 Y N 7 8
    8 propagate_left l0 l0 Y N -> propagate_left_end_different l0 l0 l1 Y N
    9 propagate_right l0 l1 Y N -> propagate_right_end_different l0 l1 l2 Y N
    4 flip l2 l1 Y N -> flip l2 l1 Y N 10 11
    10 propagate_up l2 l1 N Y -> propagate_up_end_field l2 l1 N
    11 propagate_left l2 l1 N Y -> propagate_left_end_field l2 l1 N
    12 propagate_down l2 l1 N Y -> propagate_down_do l2 l1 l0 N Y 13 14
    13 propagate_down l0 l1 N Y -> propagate_down_do l0 l1 l0 N Y 15 16
    15 flip l0 l1 N Y 9 3 
    16 propagate_down l0 l1 Y N -> propagate_down_end_different l0 l1 l2 Y N
    14 propagate_right l2 l1 N Y -> propagate_right_do l2 l1 l2 N Y 17 18
    17 flip l2 l1 Y N 11 12
    18 propagate_right l2 l1 Y N -> propagate_right_end_field l2 l1 Y